import {useEffect} from "react";
import ListItem from "@mui/material/ListItem";
import ListItemButton from "@mui/material/ListItemButton";
import ListItemText from "@mui/material/ListItemText";
const NavLink=(props)=> {
	const {text, href}=props;
	const target=props.target?props.target:"_self";
		const shortcutKeys={
		"Tema": "t",
		"Resumo": "r",
		"Problema": "p",
		"Justificativa": "j",
		"Objetivos": "o",
		"Referencial teórico abre em uma nova guia": "i",
		"Metodologia": "m",
		"Conclusões parciais": "c",
		"Referências abre em uma nova guia": "n",
	}
	const idText=text.replace("(", "").replace(")", "");
	const shortcutKey=shortcutKeys[idText];
	useEffect(()=> {
		const onKeyDown=function(evt) {
			if(evt.altKey&&(evt.key==shortcutKey)) {
				evt.preventDefault();
				const linkElements=Array.from(document.getElementsByTagName("a"));
				const keyNames=[];
				for(let property in shortcutKeys) {
					keyNames.push(shortcutKeys[property]);
				}
				const linkIndex=keyNames.indexOf(shortcutKey);
				const sectionLink=linkElements[linkIndex];
				sectionLink.click();
			}
		};
		document.addEventListener("keydown", onKeyDown);
		return ()=> {
			document.removeEventListener("keydown", onKeyDown);
		};
	});
	return (
		<ListItem>
			<ListItemButton component="a" href={href} target={target}>
				<ListItemText>
					{text}
					<span className="link-shortcut-key">(alt+{shortcutKey})</span>
				</ListItemText>
			</ListItemButton>
		</ListItem>
	);
};
export default NavLink;